<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"f0qw.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="参考V12的笔记。">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring和SpringMVC学习笔记">
<meta property="og:url" content="http://f0qw.github.io/2022/08/22/Spring%E5%92%8CSpringMVC/index.html">
<meta property="og:site_name" content="kueen的博客">
<meta property="og:description" content="参考V12的笔记。">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://tuchuangf0qw.oss-cn-fuzhou.aliyuncs.com/typora_images/202208211649128.png">
<meta property="og:image" content="https://tuchuangf0qw.oss-cn-fuzhou.aliyuncs.com/typora_images/202208212240313.png">
<meta property="og:image" content="https://tuchuangf0qw.oss-cn-fuzhou.aliyuncs.com/typora_images/202208212247249.png">
<meta property="og:image" content="https://tuchuangf0qw.oss-cn-fuzhou.aliyuncs.com/typora_images/202208212248714.png">
<meta property="og:image" content="https://tuchuangf0qw.oss-cn-fuzhou.aliyuncs.com/typora_images/202208212249484.png">
<meta property="og:image" content="https://tuchuangf0qw.oss-cn-fuzhou.aliyuncs.com/typora_images/202208212356074.png">
<meta property="og:image" content="https://tuchuangf0qw.oss-cn-fuzhou.aliyuncs.com/typora_images/202208212356069.png">
<meta property="og:image" content="https://tuchuangf0qw.oss-cn-fuzhou.aliyuncs.com/typora_images/202208212356075.png">
<meta property="article:published_time" content="2022-08-22T08:08:22.000Z">
<meta property="article:modified_time" content="2022-08-21T16:59:48.148Z">
<meta property="article:author" content="chen">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://tuchuangf0qw.oss-cn-fuzhou.aliyuncs.com/typora_images/202208211649128.png">

<link rel="canonical" href="http://f0qw.github.io/2022/08/22/Spring%E5%92%8CSpringMVC/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Spring和SpringMVC学习笔记 | kueen的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">kueen的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://f0qw.github.io/2022/08/22/Spring%E5%92%8CSpringMVC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kueen的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Spring和SpringMVC学习笔记
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-08-22 16:08:22 / Modified: 00:59:48" itemprop="dateCreated datePublished" datetime="2022-08-22T16:08:22+08:00">2022-08-22</time>
            </span>

          
            <div class="post-description">参考V12的笔记。</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h1><h2 id="一、IOC"><a href="#一、IOC" class="headerlink" title="一、IOC"></a>一、IOC</h2><h3 id="1、概述"><a href="#1、概述" class="headerlink" title="1、概述"></a>1、概述</h3><ul>
<li>IoC（Inversion Of Control）控制反转，Spring反向控制应用程序所需要使用的外部资源；</li>
<li>Spring控制的资源全部放置在Spring容器中，该容器称为IoC容器；</li>
<li>spring容器中存储的对象称为bean对象；</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">IOC(inversion of control): 控制反转,反转的是对象的创建权,用于削减程序之间的耦合关系,底层使用反射技术实现</span><br><span class="line">	传统方式创建对象:  <span class="keyword">new</span> 对象(); (主动创建)</span><br><span class="line">	IOC方式创建对象: 找容器(被动接收),本质上就是一个Map集合</span><br><span class="line"></span><br><span class="line">	作用：解耦</span><br><span class="line">		通过标记(标记就是配置文件中的key)找工厂,工厂帮我们创建对应的类对象,并返回给我们使用</span><br><span class="line">		当前类可以选择主动出击（<span class="keyword">new</span>的方式）创建对象，但是此时耦合度高。</span><br><span class="line">		把主动式改成被动接收，由工厂对象为当前类生产所必须的关联对象，此时降低了两个类的依赖关系。</span><br><span class="line">控制反转：资源创建的权限（比如dao）由应用方（service）转移到工厂去创建（factory,spring容器去创建）   </span><br></pre></td></tr></table></figure>

<p><img src="https://tuchuangf0qw.oss-cn-fuzhou.aliyuncs.com/typora_images/202208211649128.png" alt="image-20220821164921028"></p>
<div style="background-color:orange">1.导入Spring的核心jar包的坐标:</div>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<div style="background-color:orange">2.创建applicationContext.xml,并导入约束:</div>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- id: 容器中的唯一标识  class:被创建的类的全限定名(包名+类名) --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;accountService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.service.impl.AccountServiceImpl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<div style="background-color:orange">3.获取IOC容器:</div>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a.从类路径下解析xml配置文件,获取容器</span><br><span class="line"><span class="comment">// 将配置文件中放在resources</span></span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">ac</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">b.从磁盘路径下解析xml配置文件</span><br><span class="line"><span class="comment">// 将配置文件方法磁盘目录下</span></span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">ac</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileSystemXmlApplicationContext</span>(<span class="string">&quot;C:\Users\Administrator.DESKTOP-NG3ICNP\Desktop\applicationContext.xml&quot;</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>ApplicationContex</code>t: 当解析完applicationContext.xml文件后,立即创建类对象(饿汉加载模式)<br>    它是一个接口。是spring中的IOC容器接口,可以通过该接口的方法来获取想要的bean对象。需要提供bean的id。<br>    它有3个常用的实现类<br>         ClassPathXmlApplicationContext★:<br>                    它是用于读取类路径(resources)下的xml配置文件，不在类路径下读取不到<br>         FileSystemXmlApplicationContext:<br>                    它是读取文件系统中的配置文件，只要有访问权限，在文件系统中都能读取的到<br>         AnnotationConfigApplicationContext:<br>                    它是用于根据注解配置 创建容器的。</p>
<p>(★★)ApplicationContext它是在一读取完配置文件，就马上创建配置文件中所配置的所有对象。(得到IOC容器)</p>
<p><code>BeanFactory</code>:<br>     它是spring中ioc容器的顶层接口，ApplicationContext只是它的子接口。<br>     它提供创建容器中对象的时机，使用延迟加载(懒加载)的思想。而ApplicationContext不仅继承了它的加载方式，而且还扩展出来了立即加载思想的创建容器的方式。<br>     它是每次在使用时才真正的创建对象。</p>
</blockquote>
<h3 id="2、创建Bean对象的三种方式"><a href="#2、创建Bean对象的三种方式" class="headerlink" title="2、创建Bean对象的三种方式"></a>2、创建Bean对象的三种方式</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 方式1: 无参构造创建对象,存放到IOC容器中 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;AccountService1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.service.impl.AccountServiceImpl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 方式2: 调用工厂的静态方法创建类对象,存放到IOC容器中 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        调用工厂的静态方法,将方法的返回值存放到IOC容器中</span></span><br><span class="line"><span class="comment">           id: 存放到IOC容器时,对象的唯一标识</span></span><br><span class="line"><span class="comment">           class: 工厂的全限定名</span></span><br><span class="line"><span class="comment">           factory-method: 指定静态方法名称</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;AccountService2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.factory.MethodFactory&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">factory-method</span>=<span class="string">&quot;createObject&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 方式3: 调用工厂的非静态方法创建类对象,存放到IOC容器中 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--3.1: 创建工厂类对象,并存放到IOC容器中 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;methodFactory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.factory.MethodFactory&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--3.2: 调用工厂实例的非静态方法创建类对象 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        调用工厂的非静态方法,将非静态方法的返回值存放到IOC容器中</span></span><br><span class="line"><span class="comment">            id:存放到IOC容器时,对象的唯一标识</span></span><br><span class="line"><span class="comment">            factory-bean:工厂对象实例的引用</span></span><br><span class="line"><span class="comment">            factory-method:调用实例工厂的非静态方法</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;AccountService3&quot;</span> <span class="attr">factory-bean</span>=<span class="string">&quot;methodFactory&quot;</span> <span class="attr">factory-method</span>=<span class="string">&quot;createObject1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="3、Bean对象的作用范围"><a href="#3、Bean对象的作用范围" class="headerlink" title="3、Bean对象的作用范围"></a>3、Bean对象的作用范围</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;singleton&quot;</span> <span class="attr">class</span>=<span class="string">&quot; &quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">bean的作用范围调整：</span><br><span class="line">    调整bean的作用范围，使用的是bean标签的scope属性。</span><br><span class="line">    它的属性取值有以下5个</span><br><span class="line">      singleton           : 单例对象      用的最多的           它是默认值(最常用)</span><br><span class="line">      prototype           ：多例对象       用的最多的</span><br><span class="line">      ------------------------------------</span><br><span class="line">      request             ：请求范围      (存入了请求域)</span><br><span class="line">      session             ：会话范围      (存入了会话域)</span><br><span class="line">      global-session      ：全局会话范围   当非集群环境下，它就是session</span><br><span class="line">-------------</span><br><span class="line">如果是有状态的bean选择多例；</span><br><span class="line">如估无无状态的bean选择单例；</span><br></pre></td></tr></table></figure>

<h3 id="4、Bean对象的生命周期"><a href="#4、Bean对象的生命周期" class="headerlink" title="4、Bean对象的生命周期"></a>4、Bean对象的生命周期</h3><p>bean对象的生命周期: 从加载到内存哪一刻起对象就出生了,当对象从内存中移除时,对象的生命就完结了</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">bean的生命周期:</span><br><span class="line">    单例对象: 将创建的bean放入容器</span><br><span class="line">    	出生:容器创建，对象出生</span><br><span class="line">    	活着:只要容器在，对象就一直活着</span><br><span class="line">    	死亡:容器销毁，对象消亡</span><br><span class="line">    特点: 生命周期与容器相同</span><br><span class="line">	&lt;!--</span><br><span class="line">        单例对象:</span><br><span class="line">            init-method: 初始化方法（构造器初始化对象之后被调用）</span><br><span class="line">            destroy-method: 销毁时调用的方法（对象被销毁之前被调用）</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;bean id=&quot;AccountService&quot; class=&quot;com.study.service.impl.AccountServiceImpl&quot;</span><br><span class="line">          init-method=&quot;init&quot; destroy-method=&quot;destory&quot;&gt;&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">多例对象：</span><br><span class="line">    出生：每次使用时创建</span><br><span class="line">    活着：在使用过程中</span><br><span class="line">    死亡：使用完成之后，等待垃圾回收器回收。gc，也就是说多例模式下spring不负责对象的销毁，不会执行destroy方法；</span><br><span class="line">    	多实例bean对象的生命周期</span><br><span class="line">            scope的值必须为: prototype</span><br></pre></td></tr></table></figure>



<h2 id="二、依赖注入DI"><a href="#二、依赖注入DI" class="headerlink" title="二、依赖注入DI"></a>二、依赖注入DI</h2><h3 id="1、依赖注入概述"><a href="#1、依赖注入概述" class="headerlink" title="1、依赖注入概述"></a>1、依赖注入概述</h3><ul>
<li><p>IoC与DI是同一件事站在不同角度看待问题</p>
<p>​    在<font color='red'>应用程序的角度</font>看程序需要被动等待Spring提供资源（注入资源）是DI;</p>
<p>​    但是在<font color='red'>Spring容器的角度</font>看是，是将资源的创建权利做了翻转，且由容器提供数据，是IOC;</p>
</li>
</ul>
<h3 id="2、注入数据的方式和类型"><a href="#2、注入数据的方式和类型" class="headerlink" title="2、注入数据的方式和类型"></a>2、注入数据的方式和类型</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Spring中的依赖注入：</span><br><span class="line">    注入的方式有三种：</span><br><span class="line">        第一种：使用构造方法注入</span><br><span class="line">            要求：必须有对应参数列表的构造函数</span><br><span class="line">        第二种：使用setter方法注入（XML开发主流）</span><br><span class="line">            要求：提供被注入对象的set方法（不需要get方法）</span><br><span class="line">        第三种：使用注解注入</span><br><span class="line"></span><br><span class="line">    注入的数据类型有三类：</span><br><span class="line">        第一类：基本类型和String</span><br><span class="line">        第二类：其他bean类型</span><br><span class="line">            要求：其他bean指的是在spring的配置文件中定义过的bean，或者是用注解注释过的类。</span><br><span class="line">        第三类：复杂类型（集合类型）</span><br><span class="line">            Array: 数组</span><br><span class="line">            List:</span><br><span class="line">            Map:</span><br><span class="line">            Properties:</span><br></pre></td></tr></table></figure>

<div style="background-color:orange">示例代码:</div>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 依赖注入:</span><br><span class="line">            在创建对象时,给对象中的属性赋值</span><br><span class="line">         依赖注入方式:</span><br><span class="line">            方式<span class="number">1</span>: 有参构造</span><br><span class="line">            方式<span class="number">2</span>: setter方法</span><br><span class="line">            方式<span class="number">3</span>: 注解</span><br><span class="line">         依赖注入的数据类型:</span><br><span class="line">            基本类型和String</span><br><span class="line">            其他bean对象</span><br><span class="line">            数组</span><br><span class="line">            List</span><br><span class="line">            Map</span><br><span class="line">            Properties</span><br><span class="line">     --&gt;</span><br><span class="line">    &lt;!-- 方式<span class="number">1</span>: 有参构造 --&gt;</span><br><span class="line">    &lt;!--&lt;bean id=<span class="string">&quot;xxx&quot;</span> class=<span class="string">&quot;com.study&quot;</span>&gt;</span><br><span class="line">        &lt;constructor-arg name=<span class="string">&quot;port&quot;</span> value=<span class="string">&quot;3306&quot;</span>&gt;&lt;/constructor-arg&gt;</span><br><span class="line">    &lt;/bean&gt;--&gt;</span><br><span class="line">    &lt;!-- 方式<span class="number">2</span>: 通过setter方法注入 ****--&gt;</span><br><span class="line">    &lt;bean id=<span class="string">&quot;xxx&quot;</span> class=<span class="string">&quot;com.study&quot;</span>&gt;</span><br><span class="line">        &lt;property name=<span class="string">&quot;port&quot;</span> value=<span class="string">&quot;3306&quot;</span>&gt;&lt;/property&gt;</span><br><span class="line">        &lt;!-- 注入其他bean类型 --&gt;</span><br><span class="line">        &lt;property name=<span class="string">&quot;user&quot;</span> ref=<span class="string">&quot;user&quot;</span>&gt;&lt;/property&gt;</span><br><span class="line">        &lt;!-- 注入数组 --&gt;</span><br><span class="line">        &lt;property name=<span class="string">&quot;strArr&quot;</span>&gt;</span><br><span class="line">            &lt;array&gt;</span><br><span class="line">                &lt;value&gt;宝强&lt;/value&gt;</span><br><span class="line">                &lt;value&gt;乃亮&lt;/value&gt;</span><br><span class="line">                &lt;value&gt;羽凡&lt;/value&gt;</span><br><span class="line">                &lt;value&gt;大郎&lt;/value&gt;</span><br><span class="line">            &lt;/array&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">        &lt;!-- 注入list --&gt;</span><br><span class="line">        &lt;property name=<span class="string">&quot;list&quot;</span>&gt;</span><br><span class="line">            &lt;list&gt;</span><br><span class="line">                &lt;value&gt;蓉蓉&lt;/value&gt;</span><br><span class="line">                &lt;value&gt;璐璐&lt;/value&gt;</span><br><span class="line">                &lt;value&gt;合合&lt;/value&gt;</span><br><span class="line">                &lt;value&gt;莲莲&lt;/value&gt;</span><br><span class="line">            &lt;/list&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">        &lt;!--  注入map--&gt;</span><br><span class="line">        &lt;property name=<span class="string">&quot;map&quot;</span>&gt;</span><br><span class="line">            &lt;map&gt;</span><br><span class="line">                &lt;entry key=<span class="string">&quot;name&quot;</span> value=<span class="string">&quot;波波&quot;</span>&gt;&lt;/entry&gt;</span><br><span class="line">                &lt;entry key=<span class="string">&quot;age&quot;</span> value=<span class="string">&quot;18&quot;</span>&gt;&lt;/entry&gt;</span><br><span class="line">                &lt;entry key=<span class="string">&quot;sex&quot;</span> value=<span class="string">&quot;妖&quot;</span>&gt;&lt;/entry&gt;</span><br><span class="line">            &lt;/map&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">        &lt;!-- 注入properties --&gt;</span><br><span class="line">        &lt;property name=<span class="string">&quot;prop&quot;</span>&gt;</span><br><span class="line">            &lt;props&gt;</span><br><span class="line">                &lt;prop key=<span class="string">&quot;name&quot;</span>&gt;昌老师&lt;/prop&gt;</span><br><span class="line">                &lt;prop key=<span class="string">&quot;age&quot;</span>&gt;<span class="number">40</span>&lt;/prop&gt;</span><br><span class="line">            &lt;/props&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    &lt;!-- 创建user对象存放到IOC容器中 --&gt;</span><br><span class="line">    &lt;bean id=<span class="string">&quot;user&quot;</span> class=<span class="string">&quot;com.study.User&quot;</span>&gt;</span><br><span class="line">        &lt;property name=<span class="string">&quot;username&quot;</span> value=<span class="string">&quot;xxx&quot;</span>&gt;&lt;/property&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure>

<h3 id="3、解析property配置文件"><a href="#3、解析property配置文件" class="headerlink" title="3、解析property配置文件"></a>3、解析property配置文件</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 解析Properties配置文件,将配置文件中的数据存放到IOC容器中 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:jdbc.properties&quot;</span> <span class="attr">file-encoding</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:property-placeholder</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="三、注解方式"><a href="#三、注解方式" class="headerlink" title="三、注解方式"></a>三、注解方式</h2><h3 id="1、启动注解功能"><a href="#1、启动注解功能" class="headerlink" title="1、启动注解功能"></a>1、启动注解功能</h3><ul>
<li><p>在spring XML配置文件中启动注解扫描，加载类中配置的注解项</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;packageName&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>说明：</p>
<ul>
<li><p>在进行包所扫描时，会<font color='red'>对配置的包及其子包中所有文件</font>进行扫描;</p>
</li>
<li><p>扫描过程是以文件夹递归迭代的形式进行的;</p>
</li>
<li><p>扫描过程仅读取合法的java文件</p>
</li>
<li><p>扫描时仅读取spring可识别的注解</p>
</li>
<li><p>扫描结束后会将可识别的有效注解<font color='red'>转化为spring对应的资源加入IoC容器</font></p>
</li>
</ul>
</li>
<li><p>注意：</p>
<ul>
<li><strong>无论是注解格式还是XML配置格式，最终都是将资源加载到IoC容器中</strong>，差别仅仅是数据读取方式不同</li>
<li>从加载效率上来说注解优于XML配置文件</li>
</ul>
</li>
</ul>
<h3 id="2、定义bean的常用注解"><a href="#2、定义bean的常用注解" class="headerlink" title="2、定义bean的常用注解"></a>2、定义bean的常用注解</h3><ul>
<li><p>名称：@Component    @Controller    @Service    @Repository</p>
</li>
<li><p>类型：<strong>类注解</strong></p>
</li>
<li><p>位置：<strong>类的定义上方</strong></p>
</li>
<li><p>作用：设置该类为spring管理的bean</p>
</li>
<li><p>范例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component(&quot;userService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountServiceImpl</span>&#123;&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>说明：</p>
<ul>
<li><p>以上注解相当于xml 中的bean标签：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.service.impl.UserServiceImpl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>@Controller、@Service 、@Repository是@Component的衍生注解，功能同@Component</p>
</li>
<li><p>@Controller(控制层注解)、@Service（服务层注解） 、@Repository（持久层注解）只是提供了更加明确的语义化(见名知意)，精确指出是哪一层的对象,但不是强制要求的；</p>
</li>
</ul>
</li>
<li><p>相关属性</p>
<ul>
<li>value（默认）：定义bean的访问id</li>
</ul>
</li>
</ul>
<h3 id="3、bean的属性数据注入常用注解"><a href="#3、bean的属性数据注入常用注解" class="headerlink" title="3、bean的属性数据注入常用注解"></a>3、bean的属性数据注入常用注解</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">以下注解它们就相当于：</span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">或</span> <span class="attr">value</span>=<span class="string">&quot;基本类型数据或String&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">------------------------</span><br><span class="line">这些注解使用在属性上,用于给对象中的属性进行赋值</span><br><span class="line">引用类型：</span><br><span class="line">    @Autowired</span><br><span class="line">    @Qualifier</span><br><span class="line">    @Resource</span><br><span class="line">基本类型+String：</span><br><span class="line">    @Value   可以支持Spring的EL表达式(SPEL)，写法就是$&#123;表达式&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4、作用范围和生命周期相关注解"><a href="#4、作用范围和生命周期相关注解" class="headerlink" title="4、作用范围和生命周期相关注解"></a>4、作用范围和生命周期相关注解</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Scope</span>: 相当于bean标签的scope属性</span><br><span class="line">	作用：用于调整bean的作用范围</span><br><span class="line">	使用位置: 被创建的类上</span><br><span class="line">	属性：</span><br><span class="line">		value：指定作用范围的取值。取值是固定的<span class="number">5</span>个，和XML的配置取值是一样的。</span><br><span class="line">			singleton: 单实例 默认值</span><br><span class="line">			prototype: 多实例</span><br><span class="line"><span class="meta">@PostConstruct</span> : 使用在方法上</span><br><span class="line">	使用位置: 初始化的方法上</span><br><span class="line">	​作用：指定初始化方法，相当于init-method</span><br><span class="line"><span class="meta">@PreDestroy</span> : 使用在方法上</span><br><span class="line">	​作用：指定销毁方法，相当于destroy-method</span><br></pre></td></tr></table></figure>

<h3 id="5、纯注解格式★"><a href="#5、纯注解格式★" class="headerlink" title="5、纯注解格式★"></a>5、纯注解格式★</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">我们需要使用配置类代替配置文件,将以下注解写在配置类上</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span>: 声明该类为Spring的配置文件类</span><br><span class="line"><span class="meta">@ComponentScan(basePackages = &quot;com.itheima&quot;)</span> : 指定要扫描的包</span><br><span class="line"><span class="meta">@PropertySource(value = &quot;classpath:jdbc.properties&quot;)</span> : 将配置文件交给Spring容器管理</span><br><span class="line"><span class="meta">@Bean()</span> : 将方法返回的对象存放到IOC容器中</span><br><span class="line">	将返回值存放到IOC容器中</span><br><span class="line">	一般将【第三方提供的类】对加载到IOC容器</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">**</span><br><span class="line"> * Spring的核心配置类</span><br><span class="line"> */</span><br><span class="line"><span class="meta">@Configuration</span> <span class="comment">// 声明配置类</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.itheima&quot;)</span> <span class="comment">// 开启包扫描</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;classpath:jdbc.properties&quot;)</span> <span class="comment">// 解析properties配置文件</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.driver&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String driver;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.url&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.username&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.password&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean(&quot;template&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> JdbcTemplate <span class="title function_">getJdbcTemplate</span><span class="params">(<span class="meta">@Qualifier(&quot;dataSource&quot;)</span> DataSource dataSource)</span>&#123;</span><br><span class="line">        <span class="type">JdbcTemplate</span> <span class="variable">template</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JdbcTemplate</span>();</span><br><span class="line">        template.setDataSource(dataSource);</span><br><span class="line">        <span class="keyword">return</span> template;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="6、Spring整合junit"><a href="#6、Spring整合junit" class="headerlink" title="6、Spring整合junit"></a>6、Spring整合junit</h3><p>使用步骤:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>导入jar包坐标</span><br><span class="line">	&lt;!-- 引入单元测试的jar包 <span class="number">4.12</span>以上 --&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;junit&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;junit&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;<span class="number">4.12</span>&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;!-- 导入Spring整合junit的jar包 --&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;<span class="number">5.0</span><span class="number">.2</span>.RELEASE&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"><span class="number">2.</span>使用</span><br><span class="line">	在测试类上添加以下两个注解:</span><br><span class="line">	<span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line">	<span class="meta">@ContextConfiguration(locations=&quot;classpath:applicationContext.xml&quot;)</span> (配置xml文件的路径)</span><br><span class="line">	或者：</span><br><span class="line">	<span class="meta">@ContextConfiguration(classes=SpringConfig.class)</span> (配置类)</span><br></pre></td></tr></table></figure>

<h2 id="四、Spring-AOP"><a href="#四、Spring-AOP" class="headerlink" title="四、Spring-AOP"></a>四、Spring-AOP</h2><h3 id="1、相关概念"><a href="#1、相关概念" class="headerlink" title="1、相关概念"></a>1、相关概念</h3><ul>
<li><p>Target（目标对象）:   要增强的对象(被代理的类对象)</p>
</li>
<li><p>Proxy（代理对象） :  对目标对象的增强的对象 (生成的代理类对象)</p>
</li>
<li><p>Joinpoint（连接点）:  目标对象中的所有方法(被代理类中的所有方法)–》可以被增强的方法</p>
</li>
<li><p>Pointcut（切入点）:   要被增强的方法(被代理类中要增强的方法)</p>
</li>
<li><p>Advice（通知/增强）:  增强的那段【代码方法】以及代码切入的位置</p>
<p>​                通知包含了2个维度内容：<strong>在增强方法的什么位置，切入什么代码；</strong></p>
<pre><code>前置通知：在方法之前进行增强

后置通知 ：在方法之后进行增强

异常通知：在方法异常进行增强

最终通知 ：最终执行的方法进行增强

环绕通知:  单独使用（以上所有通知）
</code></pre>
</li>
<li><p><strong>Aspect(切面):</strong> 切入点+通知=切面</p>
</li>
</ul>
<p>​                目标方法和增强方法合到在一起 叫做切面</p>
<p>​                说白了切面描述了在什么样的目标方法下(切入点)的什么位置（通知类型）切入了什么样的(增强代码）</p>
<ul>
<li><p>Weaving（织入）：</p>
<p>​          将增强的代码（方法）合并到目标方法的过程 叫织入过程;    </p>
</li>
</ul>
<p>Spring AOP底层实现技术就是动态代理</p>
<p>spring底层会自动抉择使用Jdk Proxy或Enhancer(cglib)</p>
<h3 id="2、AOP开发方式"><a href="#2、AOP开发方式" class="headerlink" title="2、AOP开发方式"></a>2、AOP开发方式</h3><ul>
<li><p>XML方式</p>
</li>
<li><p>XML+注解方式</p>
</li>
<li><p>注解方式</p>
</li>
</ul>
<h3 id="3、全xml方式实现AOP【最繁琐的】"><a href="#3、全xml方式实现AOP【最繁琐的】" class="headerlink" title="3、全xml方式实现AOP【最繁琐的】"></a>3、全xml方式实现AOP【最繁琐的】</h3><blockquote>
<p>例子：</p>
<p>对AccountServiceImpl下的方法进行增强;<br>步骤如下：<br>1.导入相关jar坐标;<br>2.自己封装要增强方法，并保存在某个专用类中【切面类/通知类/增强类】<br>3.将所有进行AOP操作的资源【切面类+目标对象】加载到IOC容器中；<br>4.编写配置文件<br>    告诉spring【切面类中的增强方法】在哪个对象的哪个方法上增强使用（配置切面）；</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 将目标类(被增强的类)存放到IOC容器中 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;accountService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.service.impl.AccountServiceImpl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 将切面类加载到IOC容器中 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myAspect&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.aspect.MyAspect&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 面向切面编程====织入 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 切入点表达式 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 指定切面类 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">&quot;myAspect&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- method: 调用的通知方法  pointcut: 切入点是什么 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">&quot;before&quot;</span> <span class="attr">pointcut</span>=<span class="string">&quot;execution(public * com.study.service.impl.AccountServiceImpl.*(..))&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:before</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after-returning</span> <span class="attr">method</span>=<span class="string">&quot;afterReturning&quot;</span> <span class="attr">pointcut</span>=<span class="string">&quot;execution(public * com.itheima.service.impl.AccountServiceImpl.*(..))&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:after-returning</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after-throwing</span> <span class="attr">method</span>=<span class="string">&quot;afterThrowing&quot;</span> <span class="attr">pointcut</span>=<span class="string">&quot;execution(public * com.itheima.service.impl.AccountServiceImpl.*(..))&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:after-throwing</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after</span> <span class="attr">method</span>=<span class="string">&quot;after&quot;</span> <span class="attr">pointcut</span>=<span class="string">&quot;execution(public * com.study.service.impl.AccountServiceImpl.*(..))&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:after</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:around</span> <span class="attr">method</span>=<span class="string">&quot;around&quot;</span> <span class="attr">pointcut</span>=<span class="string">&quot;execution(public * com.study.service.impl.AccountServiceImpl.*(..))&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:around</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="切点表达式"><a href="#切点表达式" class="headerlink" title="切点表达式"></a>切点表达式</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">切入点表达式:</span><br><span class="line">作用: 找到那些被增强的方法,类似正则表达式</span><br><span class="line">格式:</span><br><span class="line">    修饰符 返回值 方法的全限定名(参数列表)</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> com.study.service.impl.AccountServiceImpl.delete()</span><br><span class="line">    说明：修饰符可省略不写，默认<span class="keyword">public</span>    </span><br><span class="line">支持通配符的写法：</span><br><span class="line">    *   ： 表示任意字符串</span><br><span class="line">    ..  ： 任意重复次数</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">execution(* *(..)) <span class="comment">//说明：第一个*表示任意返回值类型，第二个*匹配任意类，..匹配任意参数，该表达式表示匹配任意类的任意方法（简化书写方式，很少用到）</span></span><br><span class="line">execution(* *..*(..))<span class="comment">//同上</span></span><br><span class="line">execution(* *..*.*(..))<span class="comment">//同上，更符合书写习惯，第一个*表示匹配任意返回值类型，*..表示匹配任意包名称及其任意子包，第三个*匹配任意类，第四个匹配任意方法</span></span><br><span class="line">execution(<span class="keyword">public</span> * *..*.*(..))<span class="comment">//表示匹配任意public修饰符的方法</span></span><br><span class="line">execution(<span class="keyword">public</span> <span class="type">int</span> *..*.*(..))<span class="comment">//表示陪陪任意返回值是int类型且修饰符是public的方法</span></span><br><span class="line">execution(<span class="keyword">public</span> <span class="keyword">void</span> *..*.*(..))<span class="comment">//匹配任意返回值是void且修饰符是public的方法</span></span><br><span class="line">execution(<span class="keyword">public</span> <span class="keyword">void</span> com..*.*(..))<span class="comment">//匹配com包及其任意子包下的被pulic修饰的返回值是void的方法</span></span><br><span class="line">execution(<span class="keyword">public</span> <span class="keyword">void</span> com..service.*.*(..))<span class="comment">//匹配com包下任意子包下存在service包下的任意类的任意方法，且方法为void 被public修饰</span></span><br><span class="line">execution(<span class="keyword">public</span> <span class="keyword">void</span> com.study.service.*.*(..))</span><br><span class="line">execution(<span class="keyword">public</span> <span class="keyword">void</span> com.study.service.User*.*(..))<span class="comment">//侧重点：任意一User开头的类下的任意void且被public修饰的方法</span></span><br><span class="line">execution(<span class="keyword">public</span> <span class="keyword">void</span> com.study.service.*Service.*(..))<span class="comment">//侧重点：任意一Service结尾的类下的任意方法</span></span><br><span class="line">execution(<span class="keyword">public</span> <span class="keyword">void</span> com.study.service.UserService.*(..))<span class="comment">//匹配UserService类下的任意方法...</span></span><br><span class="line">execution(<span class="keyword">public</span> User com.study.service.UserService.find*(..))<span class="comment">//侧重点：匹配UserService类下的任意以find开头的任意方法...</span></span><br><span class="line">execution(<span class="keyword">public</span> User com.study.service.UserService.*Id(..))<span class="comment">//侧点：匹配UserService类下的任意以id结尾的任意方法...</span></span><br><span class="line">execution(<span class="keyword">public</span> User com.study.service.UserService.findById(..))<span class="comment">//侧重点：匹配UserService类下方法名为findById的任意参数的方法....</span></span><br><span class="line">execution(<span class="keyword">public</span> User com.study.service.UserService.findById(<span class="type">int</span>))<span class="comment">//精准匹配，方法入参只有一个int类型</span></span><br><span class="line">execution(<span class="keyword">public</span> User com.study.service.UserService.findById(<span class="type">int</span>,<span class="type">int</span>))<span class="comment">//精准匹配，方法入参包含2个int类型</span></span><br><span class="line">execution(<span class="keyword">public</span> User com.study.service.UserService.findById(<span class="type">int</span>,*))<span class="comment">//2个入参，第一个必须int，第二个任意类型</span></span><br><span class="line">execution(<span class="keyword">public</span> User com.study.service.UserService.findById(*,<span class="type">int</span>))<span class="comment">//2个入参，第一个任意类型，第二个必须int类型</span></span><br><span class="line">execution(<span class="keyword">public</span> User com.study.service.UserService.findById())<span class="comment">//精准匹配无参</span></span><br><span class="line">execution(List com.study.service.*Service+.findAll(..))<span class="comment">//匹配任意以Service结尾的接口或者实现类下方法名为findAll的任意入参方法</span></span><br></pre></td></tr></table></figure>

<h3 id="4、半xml半注解实现AOP"><a href="#4、半xml半注解实现AOP" class="headerlink" title="4、半xml半注解实现AOP"></a>4、半xml半注解实现AOP</h3><h4 id="使用步骤"><a href="#使用步骤" class="headerlink" title="使用步骤:"></a>使用步骤:</h4><div style='background-color:orange;'>1.开启包扫描</div>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 开启需要扫描的包 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.study&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 声明当前项目可以使用AOP的注解 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:aspectj-autoproxy</span>&gt;</span></span><br></pre></td></tr></table></figure>

<div style='background-color:orange;'>2.在切面类中添加相关注解</div>    

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">注解：</span><br><span class="line">	<span class="meta">@Aspect</span> ： 声明切面类</span><br><span class="line">	<span class="meta">@PonitCut</span>：定义公共的切入点</span><br><span class="line">			配置到空方法上，value：切入点表达式</span><br><span class="line">			引用：方法名()</span><br><span class="line">配置通知类型：</span><br><span class="line">    <span class="meta">@Before()</span> : 前置通知</span><br><span class="line">    <span class="meta">@AfterReturning()</span> ： 后置通知</span><br><span class="line">    <span class="meta">@AfterThrowing()</span>  ：异常通知</span><br><span class="line">    <span class="meta">@After()</span>			：最终通知</span><br><span class="line">    <span class="meta">@Around()</span>			：环绕通知</span><br></pre></td></tr></table></figure>

<h4 id="相关代码"><a href="#相关代码" class="headerlink" title="相关代码:"></a>相关代码:</h4><p><strong>1.导入jar包坐标</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- spring核心jar包,已经依赖的AOP的jar --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 切入点表达式 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.6.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>2.切面类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 此类我们称之为切面类,在切面类中存放有各种通知</span></span><br><span class="line"><span class="comment"> * 切面 = 切入点 + 通知</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Aspect</span> : 声明此类为切面类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyAspect</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 配置切入点表达式</span></span><br><span class="line"><span class="comment">     * 调用切入点表单时,直接使用 方法名称()</span></span><br><span class="line"><span class="comment">     *      pt()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.itheima.service.*.AccountServiceImpl.*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pt</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 前置通知调用的方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Before(&quot;pt()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;前置通知:11111111111111&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 后置通知调用的方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@AfterReturning(&quot;pt()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterReturning</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;后置通知:22222222222222&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 异常通知调用的方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@AfterThrowing(&quot;pt()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterThrowing</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;异常通知:33333333333333&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 最终通知调用的方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@After(&quot;pt()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;最终通知:44444444444444&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 环绕通知</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> joinPoint 连接点 ---&gt; 切入点</span></span><br><span class="line"><span class="comment">     *        ProceedingJoinPoint: method</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Around(&quot;pt()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">around</span><span class="params">(ProceedingJoinPoint joinPoint)</span>&#123;</span><br><span class="line">        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;前置增强--111111111111&quot;</span>);</span><br><span class="line">            <span class="comment">// 让原方法执行  method.invoke()</span></span><br><span class="line">            result = joinPoint.proceed();</span><br><span class="line">            System.out.println(<span class="string">&quot;后置增强--222222222222&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable throwable) &#123;</span><br><span class="line">            <span class="comment">//throwable.printStackTrace();</span></span><br><span class="line">            System.out.println(<span class="string">&quot;异常增强--333333333333&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;最终增强--444444444444&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>4.applicationContext.xml配置</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 开启组件扫描 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.study&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 开启对Spring-AOP注解的支持 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:aspectj-autoproxy</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="5、全注解实现AOP"><a href="#5、全注解实现AOP" class="headerlink" title="5、全注解实现AOP"></a>5、全注解实现AOP</h3><p>@EnableAspectJAutoProxy ： 开启对AOP注解的支持</p>
<h5 id="aop全注解代码"><a href="#aop全注解代码" class="headerlink" title="aop全注解代码"></a>aop全注解代码</h5><p><strong>配置类代码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span> <span class="comment">// 声明此类为Spring的配置类</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.study&quot;)</span> <span class="comment">// 设置需要扫描的包(开启对Spring注解的支持)</span></span><br><span class="line"><span class="meta">@EnableAspectJAutoProxy</span> <span class="comment">// 开启对AOP注解的支持</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>切面类代码同上</strong></p>
<h1 id="SpringMVC"><a href="#SpringMVC" class="headerlink" title="SpringMVC"></a>SpringMVC</h1><h2 id="一、回顾Servlet"><a href="#一、回顾Servlet" class="headerlink" title="一、回顾Servlet"></a>一、回顾Servlet</h2><p>Servlet:<br>    运行在服务器上的java小程序.<br>    本质上就是java代码,这个java代码可以被web服务器调用</p>
<p>【1】生命周期:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">实例化,创建一个对象放内存</span><br><span class="line">    默认第一次请求Servlet时,会创建Servlet对象,并调用init方法进行初始化操作</span><br><span class="line">    load-on-startup: 设置servlet的初始化时机</span><br><span class="line">    取值: 正整数,值越小优先级越高</span><br><span class="line">    初始化,创建完对象后,调用对象的方法进行初始化 </span><br><span class="line">    init(): 初始化方法</span><br><span class="line">    	当对象实例化完毕后,立即调用init方法完成初始化工作, <span class="number">1</span>次</span><br><span class="line">    service(): 提供服务</span><br><span class="line">    	每次请求来的时候,tomcat都会调用service方法提供服务, 请求一次执行一次</span><br><span class="line">    destory(): 销毁方法</span><br><span class="line">    	当对象从内存中移除前调用destory方法进行销毁工作, <span class="number">1</span>次</span><br></pre></td></tr></table></figure>

<p>【2】Servletconfig</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>web.xml配置：</span><br><span class="line">	&lt;servlet&gt;</span><br><span class="line">           	 &lt;servlet-name&gt;servletDemo&lt;/servlet-name&gt;</span><br><span class="line">           	 &lt;servlet-class&gt;com.itheima.web.servlet.ServletDemo&lt;/servlet-class&gt;</span><br><span class="line">            	&lt;!--配置初始化参数--&gt;</span><br><span class="line">            	&lt;init-param&gt;</span><br><span class="line">                   &lt;!--用于获取初始化参数的key--&gt;</span><br><span class="line">                	&lt;param-name&gt;key&lt;/param-name&gt;</span><br><span class="line">                    &lt;!--初始化参数的值--&gt;</span><br><span class="line">                	&lt;param-value&gt;value&lt;/param-value&gt;</span><br><span class="line">            	&lt;/init-param&gt;</span><br><span class="line">         &lt;/servlet&gt;	</span><br><span class="line">          <span class="number">2.</span>java代码</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig config)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">                <span class="comment">//get config and do something</span></span><br><span class="line">                 config.getInitParameter(<span class="string">&quot;key&quot;</span>);</span><br><span class="line">            &#125;  </span><br></pre></td></tr></table></figure>

<p>【3】ServletContext</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ServletContext对象，它是应用上下文对象；</span><br><span class="line">           每一个应用有且【只有一个】ServletContext对象；</span><br><span class="line">           它可以实现让应用中所有Servlet间的数据共享；</span><br><span class="line">          eg: <span class="number">1.</span>web.xml配置：</span><br><span class="line">                &lt;!--配置应用初始化参数--&gt;</span><br><span class="line">                &lt;context-param&gt;</span><br><span class="line">                    &lt;!--用于获取初始化参数的key--&gt;</span><br><span class="line">                    &lt;param-name&gt;servletContextInfo&lt;/param-name&gt;</span><br><span class="line">                    &lt;!--初始化参数的值--&gt;</span><br><span class="line">                    &lt;param-value&gt;This is application scope&lt;/param-value&gt;</span><br><span class="line">                &lt;/context-param&gt;</span><br><span class="line">             <span class="number">2.</span>java代码示例：</span><br><span class="line">                getServletContext();</span><br><span class="line">                getInitParameter(<span class="string">&quot;servletContextInfo&quot;</span>);</span><br></pre></td></tr></table></figure>



<h2 id="二、SpringMVC概述"><a href="#二、SpringMVC概述" class="headerlink" title="二、SpringMVC概述"></a>二、SpringMVC概述</h2><p><strong>SpringMVC</strong> 顾名思义就是Spring对MVC架构的一种实现，属于轻量级的WEB框架。 </p>
<p>​    它通过一个简单的<strong>注解</strong>就可以让一个普通的Java类成为控制器，这种<strong>低侵入性的设计</strong>使得他备受业界欢迎 </p>
<p>​    同时他还支持RestFul风格的编程风格。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">SpringMVC是spring对web层进行的封装,提供的MVC架构</span><br><span class="line">    M（模型）: </span><br><span class="line">		Model可以叫做数据模型层，说白了就是用来封装数据的</span><br><span class="line">        例如：用户发送注册请求，那么请求的信息会被SpingMMVC封装到User实体类中，这个实体类就属于Model层；</span><br><span class="line">             用户发送查询个人信息的请求，那么后台也会将个人信息封装到一个User类型，数据同样也是Model层；</span><br><span class="line">            </span><br><span class="line">	V（视图）: </span><br><span class="line">		View说白了就是SpringMVC响应请求的一种数据展示（最终的执行结果）：</span><br><span class="line">		例如：SpringMVC响应的数据方式：JSP、json、xml、html等</span><br><span class="line"></span><br><span class="line">    C（控制）: </span><br><span class="line">		控制层就用来处理交互的部分，接收用户请求，然后执行业务等流程，最终反馈结果；</span><br><span class="line">	    控制器,本质上就是一个Servlet,一切请求都访问这个Servlet,在这个Servlet中进行调度</span><br><span class="line">            SpringMVC可以通过一个简单的注解,就能让浏览器访问到对应的方法.</span><br><span class="line">            <span class="meta">@RequestMapping(&quot;/请求路径&quot;)</span></span><br><span class="line">    总之，这个唯一的Servlet核心控制器会【根据请求的url匹配基于注解的url】，完成请求处理；</span><br></pre></td></tr></table></figure>

<p><img src="https://tuchuangf0qw.oss-cn-fuzhou.aliyuncs.com/typora_images/202208212240313.png" alt="image-20220821224047251"></p>
<h3 id="1、核心Servlet配置文件"><a href="#1、核心Servlet配置文件" class="headerlink" title="1、核心Servlet配置文件"></a>1、核心Servlet配置文件</h3><p>编写web.xml文件</p>
<p>在web.xml文件中配置核心控制器</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://java.sun.com/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://java.sun.com/xml/ns/javaee</span></span></span><br><span class="line"><span class="string"><span class="tag">		  http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">version</span>=<span class="string">&quot;3.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        服务器启动时只会加载web项目的核心配置文件 web.xml</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 配置SpringMVC的核心Servlet: 前端控制器 (由SpringMVC框架提供)--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 配置SpringMVC的核心配置文件 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springmvc.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 我们给前端控制器配置的路径为 / (缺省匹配)可以匹配浏览器发送的所以请求</span></span><br><span class="line"><span class="comment">             注意: jsp除外</span></span><br><span class="line"><span class="comment">         --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2、SpringMVC配置文件"><a href="#2、SpringMVC配置文件" class="headerlink" title="2、SpringMVC配置文件"></a>2、SpringMVC配置文件</h3><p>spring-mvc.xml约束头</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/mvc/spring-mvc.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 开启包扫描 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.itheima&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 配置视图解析器: 生成前缀和后缀 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;viewResolver&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/pages/&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 将可能使用到的处理器适配器,处理器映射器,视图解析器统统的加载到内存中 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="三、原理"><a href="#三、原理" class="headerlink" title="三、原理"></a>三、原理</h2><h4 id="【1】启动初始化顺序"><a href="#【1】启动初始化顺序" class="headerlink" title="【1】启动初始化顺序"></a>【1】启动初始化顺序</h4><p>​        资源准备阶段：</p>
<p>​        （1）打包好war包，部署到Tomcat中==》mavne的自动发布插件完成</p>
<p>​        （2）Tomcat启动，加载web.xml文件</p>
<p>​        （3）初始化前端控制器：dispatcherServlet配置</p>
<p>​        （4）根据<strong>contextConfigLocation</strong>加载springmvc.xml配置</p>
<p>​        （5）根据spring-mvc.xml配置完成spring容器的初始化；</p>
<p>​            时序图：</p>
<p><img src="https://tuchuangf0qw.oss-cn-fuzhou.aliyuncs.com/typora_images/202208212247249.png" alt="image-20191203171050122"></p>
<h4 id="【2】请求处理顺序"><a href="#【2】请求处理顺序" class="headerlink" title="【2】请求处理顺序"></a>【2】请求处理顺序</h4><p>（1）浏览器发起 <a target="_blank" rel="noopener" href="http://localhost:8080/hello">http://localhost:8080/hello</a> 请求</p>
<p>（2）Tomcat调用dispatcherServlet拦截/hello</p>
<p>（3）dispatcherServlet调用一个处理器，根据请求路径[/hello]找对对应的处理方法（这里被@RequestMapping注释的方法）【处理器映射器】</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">处理器映射器：处理浏览器请求，根据路径映射到指定发方法；</span></span><br><span class="line"><span class="attr">eg</span>:<span class="string"></span></span><br><span class="line"><span class="attr">/hello-----&gt;com.heima.controller.HelloController#hello()</span></span><br></pre></td></tr></table></figure>

<p>（4）dispatcherServlet找到方法后，调用另外一种处理器，执行HelloController中的hello()方法【处理器适配器】</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">处理器适配器：</span></span><br><span class="line"><span class="attr">1.适配处理器handler类型（在这里对应的处理器是hello()方法）；</span></span><br><span class="line"><span class="attr">2.处理入参，把对应的参数直接封装为一个实体；</span></span><br></pre></td></tr></table></figure>

<p>（5）HelloController中的hello()方法有返回值，创建ModelAndVIew（包含响应数据，页面）</p>
<p>（6）dispatcherServlet调用视图解析器，组装响应对象，然后把页面返回给浏览器【视图解析器】</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">视图解析器：把方法返回的ModelAndVIew，进行页面和数据的整合，标签根据传入的view进行页面跳转</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tuchuangf0qw.oss-cn-fuzhou.aliyuncs.com/typora_images/202208212248714.png" alt="image-20220821224827632"></p>
<ul>
<li><p>前端控制器：DispatcherServlet 是整体流程控制的中心，由其调用其它组件处理用户的请求， 有<br>效的降低了组件间的耦合性；</p>
</li>
<li><p>处理器：handler,业务处理的核心类，通常由我们自己编写,比如：HelloController类等；</p>
</li>
<li><p><strong>处理器映射器</strong>：负责根据URL请求找到对应的Handler处理器(就是根据请求URL与Controller方法的关系)</p>
</li>
<li><p><strong>处理器适配器</strong>：将请求参数解析转换成处理器的入参，并调用处理器执行的组件； </p>
</li>
<li><p><strong>视图解析器</strong>：将处理器执行的结果生成View视图（将逻辑视图转换成物理视图）</p>
</li>
<li><p>视图：View，最终产出结果， 常用视图如：jsp、 html  </p>
</li>
</ul>
<p><img src="https://tuchuangf0qw.oss-cn-fuzhou.aliyuncs.com/typora_images/202208212249484.png" alt="image-20200426183313406"></p>
<h2 id="四、常用注解"><a href="#四、常用注解" class="headerlink" title="四、常用注解"></a>四、常用注解</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span></span><br><span class="line">	类上:</span><br><span class="line">		窄化类,访问此类中的方法时,必须加上类上的路径</span><br><span class="line">	方法:</span><br><span class="line">		建立绑定路径与方法的对应关系</span><br><span class="line">           常用属性 :</span><br><span class="line">		value或者path: 用来指定路径,默认选项 </span><br><span class="line">		method: 用来限定请求的方式 </span><br><span class="line">               例如：RequestMapping(value = <span class="string">&quot;/test03&quot;</span>,method = &#123;RequestMethod.GET,RequestMethod.POST&#125;)</span><br><span class="line">		params: 用来限定请求参数 </span><br><span class="line">               例如：<span class="meta">@RequestMapping(value = &quot;/test04&quot;,params = &#123;&quot;username&quot;,&quot;password&quot;&#125;)</span></span><br><span class="line">		headers: 用来限定请求必须携带指定的请求头</span><br><span class="line">		以上的属性可以单独使用，也可以组合使用，组合使用时，必须同时满足才行。</span><br><span class="line"><span class="meta">@GetMapping()</span>  : 只能处理get请求</span><br><span class="line"><span class="meta">@PostMapping()</span> : 只能处理post请求</span><br><span class="line"><span class="meta">@PutMapping()</span> : 只能处理put请求</span><br><span class="line"><span class="meta">@DeleteMapping()</span> :只能处理delete请求</span><br></pre></td></tr></table></figure>

<h2 id="五、获取请求参数"><a href="#五、获取请求参数" class="headerlink" title="五、获取请求参数"></a>五、获取请求参数</h2><p>SpringMVC支持的参数类型有 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>基本数据类型和string</span><br><span class="line"><span class="number">2.</span>vo类型(View object,浏览器携带的所有数据封装成的对象叫做vo)  </span><br><span class="line">     	要求：请求参数的名称必须和对象中的属性名保持一致</span><br><span class="line"><span class="number">3.</span>复杂类型：    </span><br><span class="line">	<span class="number">3.</span>数组类型 </span><br><span class="line">     		要求：保证前端传递的参数名称跟方法中的数组形参名称一致就好。 </span><br><span class="line">	<span class="number">4.</span>集合类型 </span><br><span class="line">     		获取集合参数时，要将集合参数包装到一个Vo中才可以。</span><br><span class="line">说明：</span><br><span class="line">如果请求中携带这些类型的数据,SpringMVC会自动帮我们接收,并传递给方法进行使用,【方法上的形参名称必须要和请求参数名称保持一致】；</span><br></pre></td></tr></table></figure>

<h2 id="六、特殊情况"><a href="#六、特殊情况" class="headerlink" title="六、特殊情况"></a>六、特殊情况</h2><h4 id="1、日期处理"><a href="#1、日期处理" class="headerlink" title="1、日期处理"></a>1、日期处理</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">如果请求携带的参数为日期类型,SpringMVC没有提供相关的转换器,哪该如何处理呢?</span><br><span class="line">我们可以使用SpringMVC提供的注解进行日期格式化操作.</span><br><span class="line"><span class="meta">@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)</span></span><br><span class="line">说明：</span><br><span class="line">    此时springmvc.xml中必须要开启注解驱动： &lt;mvc:annotation-driven/&gt;    </span><br></pre></td></tr></table></figure>

<h4 id="2、编码过滤器"><a href="#2、编码过滤器" class="headerlink" title="2、编码过滤器"></a>2、编码过滤器</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">若请求携带了中文有乱码的情况</span><br><span class="line">   在SpringMVC中已经提供好了编码过滤器,可以直接使用即可</span><br><span class="line">    <span class="comment">&lt;!-- 在web.xml中配置springMVC编码过滤器 --&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">filter</span>&gt;</span>  </span><br><span class="line">		<span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span>  </span><br><span class="line">		<span class="tag">&lt;<span class="name">filter-class</span>&gt;</span></span><br><span class="line">			org.springframework.web.filter.CharacterEncodingFilter</span><br><span class="line">		<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span>  </span><br><span class="line">		<span class="comment">&lt;!-- 设置过滤器中的属性值 --&gt;</span>  </span><br><span class="line">		<span class="tag">&lt;<span class="name">init-param</span>&gt;</span>  </span><br><span class="line">			<span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span>  </span><br><span class="line">		    	      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span>  </span><br><span class="line">		<span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">filter</span>&gt;</span>  </span><br><span class="line">	<span class="comment">&lt;!-- 过滤所有请求 --&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span>  </span><br><span class="line">		<span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span>  </span><br><span class="line">		<span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3、请求参数名称不一致"><a href="#3、请求参数名称不一致" class="headerlink" title="3、请求参数名称不一致"></a>3、请求参数名称不一致</h4><p>@RequestParam : 主要用于在SpringMVC后台控制层获取参数时，前端传入的参数和方法形参不一致时。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">它支持三个属性: </span><br><span class="line">	value：默认属性，用于指定前端传入的参数名称 </span><br><span class="line">	required：用于指定此参数是否必传 </span><br><span class="line">	defaultValue：当参数为非必传参数且前端没有传入参数时，指定一个默认值。</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=<span class="string">&quot;/params/demo8?username=张三&quot;</span>&gt;请求参数-基本类型&lt;/a&gt; &lt;br&gt;</span><br><span class="line">------------------------------</span><br><span class="line"><span class="meta">@RequestMapping(&quot;demo8&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">demo1</span><span class="params">(<span class="meta">@RequestParam(defaultValue = &quot;tom&quot;,required = false,value = &quot;name&quot;)</span> String username)</span>&#123;</span><br><span class="line">    System.out.println(username);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4、获取请求头信息"><a href="#4、获取请求头信息" class="headerlink" title="4、获取请求头信息"></a>4、获取请求头信息</h4><p>@RequestHeader</p>
<p><strong>作用:</strong> 主要用于从请求头中获取参数。它支持的属性跟@RequestParam一样。 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;demo2&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">demo2</span><span class="params">(<span class="meta">@RequestHeader(&quot;cookie&quot;)</span> String cookie, HttpServletResponse response)</span>&#123;</span><br><span class="line">    System.out.println(cookie);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5、获取cookie信息"><a href="#5、获取cookie信息" class="headerlink" title="5、获取cookie信息"></a>5、获取cookie信息</h4><p>@CookieValue</p>
<p><strong>作用:</strong> 用于从cookie中取值。 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">注意: cookie的key值区分大小写</span><br><span class="line"><span class="meta">@RequestMapping(&quot;demo3&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">demo3</span><span class="params">(<span class="meta">@CookieValue(&quot;JSESSIONID&quot;)</span> String jsessionid)</span>&#123;</span><br><span class="line">    System.out.println(jsessionid);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="七、同步请求的响应"><a href="#七、同步请求的响应" class="headerlink" title="七、同步请求的响应"></a>七、同步请求的响应</h2><p>**SpringMVC返回值的方式可以分为两大类: **</p>
<p>​     <strong>1.同步请求的响应:</strong></p>
<p>​            请求<strong>转发 或 重定向</strong></p>
<p>​     <strong>2.异步请求的响应</strong></p>
<p>​            异步指的是前端的请求的方式：ajax</p>
<p>​            ajax请求直接返回响应结果字符串</p>
<h3 id="1、原生API和SpringMVC实现转发"><a href="#1、原生API和SpringMVC实现转发" class="headerlink" title="1、原生API和SpringMVC实现转发"></a>1、原生API和SpringMVC实现转发</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 请求转发:</span></span><br><span class="line"><span class="comment">     *      原生API实现</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/handler01&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handler01</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;handler01方法执行了...&quot;</span>);</span><br><span class="line">        <span class="comment">// 请求转发到 /pages/success.jsp</span></span><br><span class="line">        request.getRequestDispatcher(<span class="string">&quot;/pages/success.jsp&quot;</span>).forward(request,response);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 请求转发:</span></span><br><span class="line"><span class="comment">     *      SpringMVC方式:</span></span><br><span class="line"><span class="comment">     *          forward:物理视图</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/handler02&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">handler02</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;handler02方法执行了...&quot;</span>);</span><br><span class="line">        <span class="comment">// forward:物理视图路径</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;forward:/pages/success.jsp&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 请求转发:</span></span><br><span class="line"><span class="comment">     *      SpringMVC方式:</span></span><br><span class="line"><span class="comment">     *          逻辑视图 + 视图解析器</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/handler03&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">handler03</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;handler03方法执行了...&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2、原生API和SpringMVC实现重定向"><a href="#2、原生API和SpringMVC实现重定向" class="headerlink" title="2、原生API和SpringMVC实现重定向"></a>2、原生API和SpringMVC实现重定向</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 重定向-原生API</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/handler04&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handler04</span><span class="params">(HttpServletResponse response)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;handler04方法执行了...&quot;</span>);</span><br><span class="line">        response.sendRedirect(<span class="string">&quot;/pages/success.jsp&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//SpringMVC方式:</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/handler05&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">handler05</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;handler05方法执行了...&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:https://www.baidu.com&quot;</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="3、原生API和SpringMVC以流的形式写回字符串"><a href="#3、原生API和SpringMVC以流的形式写回字符串" class="headerlink" title="3、原生API和SpringMVC以流的形式写回字符串"></a>3、原生API和SpringMVC以流的形式写回字符串</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 以流的形式写回字符串</span></span><br><span class="line"><span class="comment">     *      原生API: HttpServletResponse</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/handler06&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handler06</span><span class="params">(HttpServletResponse response)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;handler06方法执行了...&quot;</span>);</span><br><span class="line">        response.getWriter().print(<span class="string">&quot;原生API响应的数据...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * mime常用类型:</span></span><br><span class="line"><span class="comment">     *          *.html  text/html</span></span><br><span class="line"><span class="comment">     *          *.js    text/JavaScript</span></span><br><span class="line"><span class="comment">     *          *.png   image/png</span></span><br><span class="line"><span class="comment">     *          *.json  application/json</span></span><br><span class="line"><span class="comment">     * 以流的形式写回字符串</span></span><br><span class="line"><span class="comment">     *      SpringMVC方式:</span></span><br><span class="line"><span class="comment">     *          <span class="doctag">@ResponseBody</span> + String</span></span><br><span class="line"><span class="comment">     *  RequestMapping参数:</span></span><br><span class="line"><span class="comment">     *      produces: 设置响应参数的mime类型</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/handler07&quot;,produces = &quot;text/html;charset=utf-8&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">handler07</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;handler07方法执行了...&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;SpringMVC写回的字符串&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4、响应时数据共享问题"><a href="#4、响应时数据共享问题" class="headerlink" title="4、响应时数据共享问题"></a>4、响应时数据共享问题</h3><blockquote>
<p>请求转发: 数据都会存放到Request域中<br>重定向: 将共享的数据拼接在请求路径的后面</p>
</blockquote>
<h4 id="【1】转发响应时"><a href="#【1】转发响应时" class="headerlink" title="【1】转发响应时"></a>【1】转发响应时</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用request域对象封装响应结果</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">demo1</span><span class="params">(HttpServletRequest request)</span>&#123;</span><br><span class="line">    request.setAttribute(<span class="string">&quot;user&quot;</span>,<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//使用Model封装结果</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">demo2</span><span class="params">(Model model)</span>&#123;</span><br><span class="line">    model.addAttribute(<span class="string">&quot;user&quot;</span>,<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//使用ModelAndView封装结果 </span></span><br><span class="line"><span class="keyword">public</span> ModelAndView <span class="title function_">demo3</span><span class="params">(ModelAndView modelAndView)</span>&#123;</span><br><span class="line">    modelAndView.addObject(<span class="string">&quot;user&quot;</span>,<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">    modelAndView.setViewName(<span class="string">&quot;success&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> modelAndView;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="【2】重定向时"><a href="#【2】重定向时" class="headerlink" title="【2】重定向时"></a>【2】重定向时</h4><p>数据存放到session域下，会占用服务器内存空间；【不可取】</p>
<p>重定向时，request域下的数据不能共享，但是使用Model或者ModelAndView可以自动将数据以参数的方式拼接到请求路径中；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/test04&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">test04</span><span class="params">(Model model)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;test04方法执行了...&quot;</span>);</span><br><span class="line">        model.addAttribute(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;你若安好,便是晴天&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/pages/success.jsp&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/test05&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">test05</span><span class="params">(ModelAndView modelAndView)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;test05方法执行了...&quot;</span>);</span><br><span class="line">        <span class="comment">// 封装转发携带的数据</span></span><br><span class="line">        modelAndView.addObject(<span class="string">&quot;msg1&quot;</span>,<span class="string">&quot;情绪是智慧不够的产物!&quot;</span>);</span><br><span class="line">        modelAndView.addObject(<span class="string">&quot;msg2&quot;</span>,<span class="string">&quot;哈哈哈哈&quot;</span>);</span><br><span class="line">        <span class="comment">// 封装视图</span></span><br><span class="line">        modelAndView.setViewName(<span class="string">&quot;redirect:/pages/success.jsp&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> modelAndView;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h2 id="八、异步请求的响应"><a href="#八、异步请求的响应" class="headerlink" title="八、异步请求的响应"></a>八、异步请求的响应</h2><p>测试环境：vue+springmvc</p>
<h3 id="1-使用Response-原生API响应结果"><a href="#1-使用Response-原生API响应结果" class="headerlink" title="1. 使用Response 原生API响应结果"></a>1. 使用Response 原生API响应结果</h3><div style='background-color:orange;'>示例1:</div>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 原生API生成响应信息</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> age</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> response</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/demo1&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">demo1</span><span class="params">(String name, Integer age, HttpServletResponse response)</span></span><br><span class="line">        <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    response.setContentType(<span class="string">&quot;application/json;charset=utf-8&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;demo1方法执行了..&quot;</span>+name+<span class="string">&quot; : &quot;</span>+age);</span><br><span class="line">    response.getWriter().print(<span class="string">&quot;hello...&quot;</span>+name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-使用-ResponseBody注解"><a href="#2-使用-ResponseBody注解" class="headerlink" title="2. 使用@ResponseBody注解"></a>2. 使用@ResponseBody注解</h3><h4 id="返回普通字符串"><a href="#返回普通字符串" class="headerlink" title="返回普通字符串"></a>返回普通字符串</h4><div style='background-color:orange;'>示例2:</div>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取请求携带的json字符串,将字符串存放到一个变量中</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@RequestBody</span>:</span></span><br><span class="line"><span class="comment"> *      获取请求体中的字符串</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> str</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/test03&quot;,produces = &quot;text/html;charset=utf-8&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">test03</span><span class="params">(<span class="meta">@RequestBody</span> String str)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;test03方法执行了&quot;</span>);</span><br><span class="line">    System.out.println(str);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;你好&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取请求携带的json字符串,将字符串存放到一个变量中</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@RequestBody</span>:</span></span><br><span class="line"><span class="comment"> *      注意: 需要导入jackson的jar包</span></span><br><span class="line"><span class="comment"> *      解析请求体中的json字符串,并将数据封装到vo对象中</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> userVo</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/test04&quot;,produces = &quot;application/json;charset=utf-8&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">test04</span><span class="params">(<span class="meta">@RequestBody</span> UserVo userVo)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;test04方法执行了&quot;</span>);</span><br><span class="line">    System.out.println(userVo);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;你好&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="返回json字符串"><a href="#返回json字符串" class="headerlink" title="返回json字符串"></a>返回json字符串</h4><div style='background-color:orange;'>示例3:</div>

<p>先要导入JSON转换需要的包 </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-annotations<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">将返回结果转成json字符串返回给浏览器</span><br><span class="line">--------------------------------------</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 响应数据:</span></span><br><span class="line"><span class="comment">     *      响应json格式的数据给浏览器</span></span><br><span class="line"><span class="comment">     *      <span class="doctag">@ResponseBody</span> + 对象</span></span><br><span class="line"><span class="comment">     *          可以直接将对象转成json字符串写回给浏览器</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> userVo</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/test05&quot;,produces = &quot;application/json;charset=utf-8&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> UserVo <span class="title function_">test05</span><span class="params">(<span class="meta">@RequestBody</span> UserVo userVo)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;test04方法执行了&quot;</span>);</span><br><span class="line">        System.out.println(userVo);</span><br><span class="line">        userVo.setAge(<span class="number">21</span>);</span><br><span class="line">        userVo.setUsername(<span class="string">&quot;笑雯&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> userVo;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-RequestBody和-ResponseBody的区别"><a href="#3-RequestBody和-ResponseBody的区别" class="headerlink" title="3. @RequestBody和@ResponseBody的区别"></a>3. @RequestBody和@ResponseBody的区别</h3><p>@RequestBody</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span><span class="meta">@RequestBody</span>核心是接收客户端发送的json格式字符串，并封装到某个vo下(反序列化过程)；</span><br><span class="line"><span class="number">2.</span>get请求是没有请求体,而请求携带的json格式数据必须存放在请求体中携带给服务器</span><br><span class="line"><span class="number">3.</span>编写位置: 参数列表中参数的前面</span><br><span class="line">作用:</span><br><span class="line">  在post请求时,获取请求携带的json字符串,自动解析json字符串,并将解析到的内容封装到对应的java对象中(导入Jackson的jar包)</span><br></pre></td></tr></table></figure>

<p>@ResponseBody</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ResponseBody</span>:</span><br><span class="line">  作用<span class="number">1</span>: 以流的形式写回字符串给浏览器</span><br><span class="line">  作用<span class="number">2</span>: 将对象转成json字符串,将转完后的字符串以流的形式写回给浏览器</span><br><span class="line">    	需要设置返回数据的mime类型: produces = <span class="string">&quot;application/json;charset=utf-8&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>@RequestBody和@ResponseBody都是用来干什么的？</strong> </p>
<p>​        @RequestBody : 使用在post请求中</p>
<p>​                1.获取请求体的参数(获取的是一个字符串)</p>
<p>​                2.获取请求携带的json格式字符串,并解析json格式的字符串,封装到对象中</p>
<p>​                3.使用在参数的前面</p>
<p>​        @ResponseBody: 生成响应字符串的</p>
<p>​                1.直接返回一个普通字符串</p>
<p>​                2.如果返回的是对象,则将对象转出json字符串并返回</p>
<p>​                3.使用在方法上或方法的返回值前面</p>
<h2 id="九、RESTFul风格的路径"><a href="#九、RESTFul风格的路径" class="headerlink" title="九、RESTFul风格的路径"></a>九、RESTFul风格的路径</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo6Controller</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 请求路径中 &#123;占位符&#125; 接收请求路径中当前位置的值</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@PathVariable</span>: 解析请求路径中的值,并将值赋给形参变量</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/user/&#123;username&#125;/&#123;age&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">add</span><span class="params">(<span class="meta">@PathVariable(&quot;username&quot;)</span>String username ,</span></span><br><span class="line"><span class="params">                      <span class="meta">@PathVariable(&quot;age&quot;)</span>Integer age)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;添加用户信息 &quot;</span>+username+<span class="string">&quot; : &quot;</span>+age);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PutMapping(&quot;/user/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">update</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span>Integer id)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;修改用户信息 &quot;</span> +id);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/user/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">delete</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;删除用户信息 &quot;</span> +id);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/user/&#123;currentPage&#125;/&#123;pageSize&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">findByPage</span><span class="params">(<span class="meta">@PathVariable(&quot;currentPage&quot;)</span>Integer currentPage,</span></span><br><span class="line"><span class="params">                             <span class="meta">@PathVariable(&quot;pageSize&quot;)</span>Integer pageSize)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;分页查询用户信息 &quot;</span>+currentPage+<span class="string">&quot; : &quot;</span>+pageSize);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="十、其他"><a href="#十、其他" class="headerlink" title="十、其他"></a>十、其他</h2><h3 id="1、静态资源映射"><a href="#1、静态资源映射" class="headerlink" title="1、静态资源映射"></a>1、静态资源映射</h3><h4 id="解决方式1："><a href="#解决方式1：" class="headerlink" title="解决方式1："></a>解决方式1：</h4><p>  在springmvc.xml文件中配置：</p>
<p>&lt; mvc:resources mapping=”匹配请求路径” location=”真实路径”&gt;  </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 设置静态资源不过滤 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">mvc:resources</span> <span class="attr">mapping</span>=<span class="string">&quot;/css/**&quot;</span> <span class="attr">location</span>=<span class="string">&quot;/css/&quot;</span> /&gt;</span>  <span class="comment">&lt;!-- 样式 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">mvc:resources</span> <span class="attr">mapping</span>=<span class="string">&quot;/images/**&quot;</span> <span class="attr">location</span>=<span class="string">&quot;/images/&quot;</span> /&gt;</span>  <span class="comment">&lt;!-- 图片 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">mvc:resources</span> <span class="attr">mapping</span>=<span class="string">&quot;/js/**&quot;</span> <span class="attr">location</span>=<span class="string">&quot;/js/&quot;</span> /&gt;</span>  <span class="comment">&lt;!-- javascript --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">mvc:resources</span> <span class="attr">mapping</span>=<span class="string">&quot;/html/**&quot;</span> <span class="attr">location</span>=<span class="string">&quot;/html/&quot;</span> /&gt;</span>  <span class="comment">&lt;!-- html资源 --&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="解决方式2："><a href="#解决方式2：" class="headerlink" title="解决方式2："></a>解决方式2：</h4><p>  在springmvc.xml文件中配置：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">&lt;!-- 统一配置 ★ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 代替以上所有的配置 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="2、异常处理"><a href="#2、异常处理" class="headerlink" title="2、异常处理"></a>2、异常处理</h3><h4 id="方式1：基于HandlerExceptionResolver接口实现"><a href="#方式1：基于HandlerExceptionResolver接口实现" class="headerlink" title="方式1：基于HandlerExceptionResolver接口实现"></a>方式1：基于HandlerExceptionResolver接口实现</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">自定义异常处理器</span><br><span class="line"> a）.编写一个类,实现 HandlerExceptionResolver 接口</span><br><span class="line"> b）.重写 resolveException方法：完成异常处理</span><br><span class="line">        <span class="number">1.</span>跳转到公共的错误页面</span><br><span class="line">        <span class="number">2.</span>携带错误信息</span><br><span class="line">        返回：ModelAndView</span><br><span class="line">           addObject：  携带参数</span><br><span class="line">           setViewName：指定页面跳转</span><br><span class="line"> c.配置异常处理器（交给spring容器管理）</span><br><span class="line">	&lt;bean id=<span class="string">&quot;exceptionResolver&quot;</span> class=<span class="string">&quot;com.study.exception.MyHandlerExceptionResolver&quot;</span> /&gt;	 或者使用注解加入spring的ioc容器中；</span><br></pre></td></tr></table></figure>

<p>实现代码如下：</p>
<h5 id="自定义异常处理类"><a href="#自定义异常处理类" class="headerlink" title="自定义异常处理类"></a>自定义异常处理类</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyHandlerExceptionResolver</span> <span class="keyword">implements</span> <span class="title class_">HandlerExceptionResolver</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request : 请求对象</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> response : 响应对象</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> handler : 处理器对象(哪个处理器方法抛出的异常)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> ex : 抛出的异常是什么</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">resolveException</span><span class="params">(HttpServletRequest request, HttpServletResponse response,Object handler, Exception ex)</span> &#123;</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">modelAndView</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">        modelAndView.addObject(<span class="string">&quot;msg&quot;</span>,ex.getMessage());</span><br><span class="line">        <span class="comment">// 设置视图</span></span><br><span class="line">        modelAndView.setViewName(<span class="string">&quot;forward:/pages/error.jsp&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> modelAndView;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="方式2：注解开发异常处理器（推荐）"><a href="#方式2：注解开发异常处理器（推荐）" class="headerlink" title="方式2：注解开发异常处理器（推荐）"></a>方式2：注解开发异常处理器（推荐）</h4><ul>
<li>使用注解实现异常分类管理<br> 名称： @ControllerAdvice<br> 类型： 类注解<br> 位置：异常处理器类上方<br> 作用：设置当前类为异常处理器类<br> 范例：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionAdvice</span> &#123;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<ul>
<li>使用注解实现异常分类管理<br> 名称： @ExceptionHandler<br> 类型： 方法注解<br> 位置：<font color='red'>异常处理器类中针对指定异常进行处理的方法上方</font><br> 作用：设置指定异常的处理方式<br> 范例：<br> 说明：处理器方法可以设定多个</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ExceptionHandler(Exception.class)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">doOtherException</span><span class="params">(Exception ex)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;出错啦，请联系管理员！ &quot;</span>;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<ul>
<li>流程如下：</li>
</ul>
<p>1.以业务异常为例说明：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自定义异常继承RuntimeException，覆盖父类所有的构造方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BusinessException</span> <span class="keyword">extends</span> <span class="title class_">RuntimeException</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.定义分类异常管理器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyExceptionAdvice</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler(BusinessException.class)</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">handlerException</span><span class="params">(BusinessException exception)</span>&#123;</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">        mv.setViewName(<span class="string">&quot;forward:/pages/error.jsp&quot;</span>);</span><br><span class="line">        mv.addObject(<span class="string">&quot;msg&quot;</span>,exception.getMessage());</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler(otherDefinerException.class)</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">handlerException</span><span class="params">(BusinessException exception)</span>&#123;</span><br><span class="line">       <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">        mv.setViewName(<span class="string">&quot;forward:/pages/error.jsp&quot;</span>);</span><br><span class="line">        mv.addObject(<span class="string">&quot;msg&quot;</span>,exception.getMessage());</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.触发业务异常代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestExceptionController</span> &#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/user&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUser</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        <span class="comment">//举例业务异常说明</span></span><br><span class="line">        <span class="keyword">if</span>(name.trim().length()&lt;<span class="number">4</span> )&#123;</span><br><span class="line">            <span class="keyword">throw</span>  <span class="keyword">new</span> <span class="title class_">BusinessException</span>(<span class="string">&quot;用户名长度必须在2-4位之间，请重新输入！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>总之，通过自定义异常将所有的异常现象进行分类管理，以统一的格式对外呈现异常消息</strong>  </p>
<h3 id="3、拦截器"><a href="#3、拦截器" class="headerlink" title="3、拦截器"></a>3、拦截器</h3><h4 id="【1】拦截器介绍"><a href="#【1】拦截器介绍" class="headerlink" title="【1】拦截器介绍"></a>【1】拦截器介绍</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">拦截器（interceptor）是springmvc提供的一种机制，可以对请求进行拦截或直接放行，可以在进入控制器方法前后对请求做出相应的处理.</span><br><span class="line">作用:</span><br><span class="line">	在处理器方法执行前后,进行拦截过滤</span><br><span class="line">主要执行的拦截有:</span><br><span class="line">	在处理器方法执行前执行拦截: preHandle</span><br><span class="line">    	      在处理方法执行后执行拦截: postHandle</span><br><span class="line">            在视图解析器解析完毕后执行拦截: afterCompletion	</span><br></pre></td></tr></table></figure>

<p><img src="https://tuchuangf0qw.oss-cn-fuzhou.aliyuncs.com/typora_images/202208212356074.png" alt="1577627711990"></p>
<h4 id="【2】拦截器VS过滤器"><a href="#【2】拦截器VS过滤器" class="headerlink" title="【2】拦截器VS过滤器"></a>【2】拦截器VS过滤器</h4><p>拦截器与过滤器区别？</p>
<ul>
<li> 归属不同： Filter属于Servlet技术， Interceptor属于SpringMVC技术</li>
<li> 拦截内容不同： Filter可以对所有访问进行增强， Interceptor仅针对SpringMVC的访问进行增强  </li>
<li> 过滤器在Servlet执行前和执行后进行过滤，而 拦截器在servlet执行后,处理器执行前或后进行执行.</li>
</ul>
<p><img src="https://tuchuangf0qw.oss-cn-fuzhou.aliyuncs.com/typora_images/202208212356069.png" alt="image-20200427164512745"></p>
<h4 id="【3】自定义拦截器"><a href="#【3】自定义拦截器" class="headerlink" title="【3】自定义拦截器"></a>【3】自定义拦截器</h4><p>​    <strong>1.编写一个类实现HandlerInterceptor</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 编写一个拦截器</span></span><br><span class="line"><span class="comment"> * 1.编写一个类,实现 HandlerInterceptor 接口</span></span><br><span class="line"><span class="comment"> * 2.重写后抽象方法</span></span><br><span class="line"><span class="comment"> * 3.配置拦截器 springmvc.xml</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyIntercept</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 处理器指定前执行拦截</span></span><br><span class="line"><span class="comment">     * 返回值为boolean</span></span><br><span class="line"><span class="comment">     *      如果返回ture则放行,执行处理器方法</span></span><br><span class="line"><span class="comment">     *      如果返回false则不放行,处理器方法不会执行</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;preHandle在处理器执行前拦截了..&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 处理器执行后拦截</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;postHandle在处理器执行后拦截了..&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 视图解析器执行后拦截</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterCompletion在视图解析器执行后拦截了..&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​    <strong>2. 配置拦截器</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// 在springmvc.xml文件中配置拦截器需要拦截的路径</span><br><span class="line"><span class="comment">&lt;!-- 配置拦截器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:interceptors</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 配置一个拦截器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--设置拦截器的拦截路径，支持*通配--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--/**         表示拦截所有映射--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--/*          表示拦截所有/开头的映射--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--/user/*     表示拦截所有/user/开头的映射--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--/user/add*  表示拦截所有/user/开头，且具体映射名称以add开头的映射--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--/user/*All  表示拦截所有/user/开头，且具体映射名称以All结尾的映射--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:mapping</span> <span class="attr">path</span>=<span class="string">&quot;/**&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 排除指定路径不需要拦截 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:exclude-mapping</span> <span class="attr">path</span>=<span class="string">&quot;/demo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mvc:exclude-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:exclude-mapping</span> <span class="attr">path</span>=<span class="string">&quot;/hello&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mvc:exclude-mapping</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 使用指定的拦截器类处理 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.intercept.MyIntercept&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mvc:interceptors</span>&gt;</span> </span><br></pre></td></tr></table></figure>

<p><strong>3、多拦截器配置</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 配置拦截器 --&gt;</span><br><span class="line">    &lt;!-- 配置拦截器组 --&gt;</span><br><span class="line">    &lt;mvc:interceptors&gt;</span><br><span class="line">        &lt;!-- 配置一个拦截器 --&gt;</span><br><span class="line">        &lt;mvc:interceptor&gt;</span><br><span class="line">            &lt;!-- 配置拦截器拦截的路径 第一*: 表示所有的包 第二*:表示所有的资源 --&gt;</span><br><span class="line">            &lt;mvc:mapping path=<span class="string">&quot;/**&quot;</span>/&gt;</span><br><span class="line">            &lt;!-- 排除指定路径不需要拦截 --&gt;</span><br><span class="line">            &lt;mvc:exclude-mapping path=<span class="string">&quot;/demo&quot;</span>&gt;&lt;/mvc:exclude-mapping&gt;</span><br><span class="line">            &lt;mvc:exclude-mapping path=<span class="string">&quot;/hello&quot;</span>&gt;&lt;/mvc:exclude-mapping&gt;</span><br><span class="line">            &lt;!-- 使用指定的拦截器类处理 --&gt;</span><br><span class="line">            &lt;bean class=<span class="string">&quot;com.itheima.intercept.MyIntercept&quot;</span>&gt;&lt;/bean&gt;</span><br><span class="line">        &lt;/mvc:interceptor&gt;</span><br><span class="line"></span><br><span class="line">        &lt;mvc:interceptor&gt;</span><br><span class="line">            &lt;!-- 配置拦截器拦截的路径 第一*: 表示所有的包 第二*:表示所有的资源 --&gt;</span><br><span class="line">            &lt;mvc:mapping path=<span class="string">&quot;/hello&quot;</span>/&gt;</span><br><span class="line">            &lt;!-- 使用指定的拦截器类处理 --&gt;</span><br><span class="line">            &lt;bean class=<span class="string">&quot;com.itheima.intercept.MyIntercept2&quot;</span>&gt;&lt;/bean&gt;</span><br><span class="line">        &lt;/mvc:interceptor&gt;</span><br><span class="line">    &lt;/mvc:interceptors&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://tuchuangf0qw.oss-cn-fuzhou.aliyuncs.com/typora_images/202208212356075.png" alt="image-20200427171422781"></p>
<h1 id="SpringBoot"><a href="#SpringBoot" class="headerlink" title="SpringBoot"></a>SpringBoot</h1><h1 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h1><h1 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h1>
    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/08/16/SpringBoot%E7%AC%94%E8%AE%B0/" rel="prev" title="Springboot学习笔记">
      <i class="fa fa-chevron-left"></i> Springboot学习笔记
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/08/22/SpringBoot/" rel="next" title="Springboot和git和docker">
      Springboot和git和docker <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Spring"><span class="nav-number">1.</span> <span class="nav-text">Spring</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81IOC"><span class="nav-number">1.1.</span> <span class="nav-text">一、IOC</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E6%A6%82%E8%BF%B0"><span class="nav-number">1.1.1.</span> <span class="nav-text">1、概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E5%88%9B%E5%BB%BABean%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="nav-number">1.1.2.</span> <span class="nav-text">2、创建Bean对象的三种方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81Bean%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BD%9C%E7%94%A8%E8%8C%83%E5%9B%B4"><span class="nav-number">1.1.3.</span> <span class="nav-text">3、Bean对象的作用范围</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81Bean%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">1.1.4.</span> <span class="nav-text">4、Bean对象的生命周期</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5DI"><span class="nav-number">1.2.</span> <span class="nav-text">二、依赖注入DI</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E6%A6%82%E8%BF%B0"><span class="nav-number">1.2.1.</span> <span class="nav-text">1、依赖注入概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E6%B3%A8%E5%85%A5%E6%95%B0%E6%8D%AE%E7%9A%84%E6%96%B9%E5%BC%8F%E5%92%8C%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.2.2.</span> <span class="nav-text">2、注入数据的方式和类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E8%A7%A3%E6%9E%90property%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">1.2.3.</span> <span class="nav-text">3、解析property配置文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F"><span class="nav-number">1.3.</span> <span class="nav-text">三、注解方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E5%90%AF%E5%8A%A8%E6%B3%A8%E8%A7%A3%E5%8A%9F%E8%83%BD"><span class="nav-number">1.3.1.</span> <span class="nav-text">1、启动注解功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E5%AE%9A%E4%B9%89bean%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3"><span class="nav-number">1.3.2.</span> <span class="nav-text">2、定义bean的常用注解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81bean%E7%9A%84%E5%B1%9E%E6%80%A7%E6%95%B0%E6%8D%AE%E6%B3%A8%E5%85%A5%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3"><span class="nav-number">1.3.3.</span> <span class="nav-text">3、bean的属性数据注入常用注解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E4%BD%9C%E7%94%A8%E8%8C%83%E5%9B%B4%E5%92%8C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3"><span class="nav-number">1.3.4.</span> <span class="nav-text">4、作用范围和生命周期相关注解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%E3%80%81%E7%BA%AF%E6%B3%A8%E8%A7%A3%E6%A0%BC%E5%BC%8F%E2%98%85"><span class="nav-number">1.3.5.</span> <span class="nav-text">5、纯注解格式★</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6%E3%80%81Spring%E6%95%B4%E5%90%88junit"><span class="nav-number">1.3.6.</span> <span class="nav-text">6、Spring整合junit</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E3%80%81Spring-AOP"><span class="nav-number">1.4.</span> <span class="nav-text">四、Spring-AOP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5"><span class="nav-number">1.4.1.</span> <span class="nav-text">1、相关概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81AOP%E5%BC%80%E5%8F%91%E6%96%B9%E5%BC%8F"><span class="nav-number">1.4.2.</span> <span class="nav-text">2、AOP开发方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E5%85%A8xml%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0AOP%E3%80%90%E6%9C%80%E7%B9%81%E7%90%90%E7%9A%84%E3%80%91"><span class="nav-number">1.4.3.</span> <span class="nav-text">3、全xml方式实现AOP【最繁琐的】</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%87%E7%82%B9%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">1.4.3.1.</span> <span class="nav-text">切点表达式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E5%8D%8Axml%E5%8D%8A%E6%B3%A8%E8%A7%A3%E5%AE%9E%E7%8E%B0AOP"><span class="nav-number">1.4.4.</span> <span class="nav-text">4、半xml半注解实现AOP</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4"><span class="nav-number">1.4.4.1.</span> <span class="nav-text">使用步骤:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E4%BB%A3%E7%A0%81"><span class="nav-number">1.4.4.2.</span> <span class="nav-text">相关代码:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%E3%80%81%E5%85%A8%E6%B3%A8%E8%A7%A3%E5%AE%9E%E7%8E%B0AOP"><span class="nav-number">1.4.5.</span> <span class="nav-text">5、全注解实现AOP</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#aop%E5%85%A8%E6%B3%A8%E8%A7%A3%E4%BB%A3%E7%A0%81"><span class="nav-number">1.4.5.0.1.</span> <span class="nav-text">aop全注解代码</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SpringMVC"><span class="nav-number">2.</span> <span class="nav-text">SpringMVC</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E5%9B%9E%E9%A1%BEServlet"><span class="nav-number">2.1.</span> <span class="nav-text">一、回顾Servlet</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81SpringMVC%E6%A6%82%E8%BF%B0"><span class="nav-number">2.2.</span> <span class="nav-text">二、SpringMVC概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E6%A0%B8%E5%BF%83Servlet%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">2.2.1.</span> <span class="nav-text">1、核心Servlet配置文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81SpringMVC%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">2.2.2.</span> <span class="nav-text">2、SpringMVC配置文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E5%8E%9F%E7%90%86"><span class="nav-number">2.3.</span> <span class="nav-text">三、原理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E3%80%901%E3%80%91%E5%90%AF%E5%8A%A8%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%BA%E5%BA%8F"><span class="nav-number">2.3.0.1.</span> <span class="nav-text">【1】启动初始化顺序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E3%80%902%E3%80%91%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86%E9%A1%BA%E5%BA%8F"><span class="nav-number">2.3.0.2.</span> <span class="nav-text">【2】请求处理顺序</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3"><span class="nav-number">2.4.</span> <span class="nav-text">四、常用注解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0"><span class="nav-number">2.5.</span> <span class="nav-text">五、获取请求参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AD%E3%80%81%E7%89%B9%E6%AE%8A%E6%83%85%E5%86%B5"><span class="nav-number">2.6.</span> <span class="nav-text">六、特殊情况</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E6%97%A5%E6%9C%9F%E5%A4%84%E7%90%86"><span class="nav-number">2.6.0.1.</span> <span class="nav-text">1、日期处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E7%BC%96%E7%A0%81%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="nav-number">2.6.0.2.</span> <span class="nav-text">2、编码过滤器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E5%90%8D%E7%A7%B0%E4%B8%8D%E4%B8%80%E8%87%B4"><span class="nav-number">2.6.0.3.</span> <span class="nav-text">3、请求参数名称不一致</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4%E3%80%81%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%A4%B4%E4%BF%A1%E6%81%AF"><span class="nav-number">2.6.0.4.</span> <span class="nav-text">4、获取请求头信息</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5%E3%80%81%E8%8E%B7%E5%8F%96cookie%E4%BF%A1%E6%81%AF"><span class="nav-number">2.6.0.5.</span> <span class="nav-text">5、获取cookie信息</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%83%E3%80%81%E5%90%8C%E6%AD%A5%E8%AF%B7%E6%B1%82%E7%9A%84%E5%93%8D%E5%BA%94"><span class="nav-number">2.7.</span> <span class="nav-text">七、同步请求的响应</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E5%8E%9F%E7%94%9FAPI%E5%92%8CSpringMVC%E5%AE%9E%E7%8E%B0%E8%BD%AC%E5%8F%91"><span class="nav-number">2.7.1.</span> <span class="nav-text">1、原生API和SpringMVC实现转发</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E5%8E%9F%E7%94%9FAPI%E5%92%8CSpringMVC%E5%AE%9E%E7%8E%B0%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">2.7.2.</span> <span class="nav-text">2、原生API和SpringMVC实现重定向</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E5%8E%9F%E7%94%9FAPI%E5%92%8CSpringMVC%E4%BB%A5%E6%B5%81%E7%9A%84%E5%BD%A2%E5%BC%8F%E5%86%99%E5%9B%9E%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">2.7.3.</span> <span class="nav-text">3、原生API和SpringMVC以流的形式写回字符串</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E5%93%8D%E5%BA%94%E6%97%B6%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB%E9%97%AE%E9%A2%98"><span class="nav-number">2.7.4.</span> <span class="nav-text">4、响应时数据共享问题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E3%80%901%E3%80%91%E8%BD%AC%E5%8F%91%E5%93%8D%E5%BA%94%E6%97%B6"><span class="nav-number">2.7.4.1.</span> <span class="nav-text">【1】转发响应时</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E3%80%902%E3%80%91%E9%87%8D%E5%AE%9A%E5%90%91%E6%97%B6"><span class="nav-number">2.7.4.2.</span> <span class="nav-text">【2】重定向时</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AB%E3%80%81%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82%E7%9A%84%E5%93%8D%E5%BA%94"><span class="nav-number">2.8.</span> <span class="nav-text">八、异步请求的响应</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E4%BD%BF%E7%94%A8Response-%E5%8E%9F%E7%94%9FAPI%E5%93%8D%E5%BA%94%E7%BB%93%E6%9E%9C"><span class="nav-number">2.8.1.</span> <span class="nav-text">1. 使用Response 原生API响应结果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E4%BD%BF%E7%94%A8-ResponseBody%E6%B3%A8%E8%A7%A3"><span class="nav-number">2.8.2.</span> <span class="nav-text">2. 使用@ResponseBody注解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%94%E5%9B%9E%E6%99%AE%E9%80%9A%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">2.8.2.1.</span> <span class="nav-text">返回普通字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%94%E5%9B%9Ejson%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">2.8.2.2.</span> <span class="nav-text">返回json字符串</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-RequestBody%E5%92%8C-ResponseBody%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">2.8.3.</span> <span class="nav-text">3. @RequestBody和@ResponseBody的区别</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B9%9D%E3%80%81RESTFul%E9%A3%8E%E6%A0%BC%E7%9A%84%E8%B7%AF%E5%BE%84"><span class="nav-number">2.9.</span> <span class="nav-text">九、RESTFul风格的路径</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%81%E3%80%81%E5%85%B6%E4%BB%96"><span class="nav-number">2.10.</span> <span class="nav-text">十、其他</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E6%98%A0%E5%B0%84"><span class="nav-number">2.10.1.</span> <span class="nav-text">1、静态资源映射</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E5%BC%8F1%EF%BC%9A"><span class="nav-number">2.10.1.1.</span> <span class="nav-text">解决方式1：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E5%BC%8F2%EF%BC%9A"><span class="nav-number">2.10.1.2.</span> <span class="nav-text">解决方式2：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="nav-number">2.10.2.</span> <span class="nav-text">2、异常处理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E5%BC%8F1%EF%BC%9A%E5%9F%BA%E4%BA%8EHandlerExceptionResolver%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0"><span class="nav-number">2.10.2.1.</span> <span class="nav-text">方式1：基于HandlerExceptionResolver接口实现</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%B1%BB"><span class="nav-number">2.10.2.1.1.</span> <span class="nav-text">自定义异常处理类</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E5%BC%8F2%EF%BC%9A%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%99%A8%EF%BC%88%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="nav-number">2.10.2.2.</span> <span class="nav-text">方式2：注解开发异常处理器（推荐）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="nav-number">2.10.3.</span> <span class="nav-text">3、拦截器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E3%80%901%E3%80%91%E6%8B%A6%E6%88%AA%E5%99%A8%E4%BB%8B%E7%BB%8D"><span class="nav-number">2.10.3.1.</span> <span class="nav-text">【1】拦截器介绍</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E3%80%902%E3%80%91%E6%8B%A6%E6%88%AA%E5%99%A8VS%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="nav-number">2.10.3.2.</span> <span class="nav-text">【2】拦截器VS过滤器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E3%80%903%E3%80%91%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="nav-number">2.10.3.3.</span> <span class="nav-text">【3】自定义拦截器</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SpringBoot"><span class="nav-number">3.</span> <span class="nav-text">SpringBoot</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Git"><span class="nav-number">4.</span> <span class="nav-text">Git</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Docker"><span class="nav-number">5.</span> <span class="nav-text">Docker</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="chen"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">chen</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">10</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chen</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
